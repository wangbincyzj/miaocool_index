{"version":3,"sources":["webpack:///./src/views/chat/Client.vue?0e16","webpack:///./src/views/chat/Client.vue?b8bd","webpack:///./src/views/chat/Client.vue","webpack:///./src/views/chat/Client.vue?a042","webpack:///src/views/chat/Client.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","i","class","role","_v","_s","userNameChn","msg","directives","name","rawName","value","msgObj","expression","domProps","on","$event","target","composing","$set","sendMsg","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,GAAK,UAAUP,EAAIQ,GAAIR,EAAkB,gBAAE,SAASS,GAAG,OAAOL,EAAG,MAAM,CAACM,MAAM,CAAU,MAARD,EAAEE,KAAY,QAAQ,UAAU,CAACP,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGJ,EAAEK,aAAa,IAAId,EAAIa,GAAGJ,EAAEM,aAAY,GAAGX,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIoB,OAAU,IAAEC,WAAW,eAAef,YAAY,YAAYC,MAAM,CAAC,KAAO,QAAQe,SAAS,CAAC,MAAStB,EAAIoB,OAAU,KAAGG,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqB1B,EAAI2B,KAAK3B,EAAIoB,OAAQ,MAAOI,EAAOC,OAAON,WAAWf,EAAG,QAAQ,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,SAAS,MAAQ,MAAMgB,GAAG,CAAC,MAAQvB,EAAI4B,gBAC7wBC,EAAkB,G,YCDyU,S,wBCQ3VC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,yBAAuf,EAAG,G,oGCmB1f,0BACE,KAAF,SACE,KAFF,WAGI,MAAJ,CACM,eAAN,GAIM,OAAN,CACQ,GAAR,UACQ,IAAR,QACQ,IAAR,GACQ,YAAR,MAEM,SAAN,UACM,YAAN,KACM,EAAN,KAGE,QAAF,CACI,iBADJ,4BAGA,qBACA,6EAEA,wBACA,gFAGA,0BAEA,eACA,gCACA,sBACA,gCACA,WACA,aACA,6BAEA,yBACA,iBACA,0EAIA,4BACQ,QAAR,aAGA,2BACA,sBAKA,QApCA,WAqCA,cACM,KAAN,qCACA,6EAGE,QA7DF,WA8DI,KAAJ,oBAEE,UAhEF,WAiEI,KAAJ","file":"js/chunk-16d122d4.61611ba7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"talk_con\"},[_c('div',{staticClass:\"talk_show\",attrs:{\"id\":\"words\"}},_vm._l((_vm.chatRecordList),function(i){return _c('div',{class:[(i.role=='me')?'btalk':'atalk']},[_c('span',[_vm._v(_vm._s(i.userNameChn)+\"：\"+_vm._s(i.msg))])])}),0),_c('div',{staticClass:\"talk_input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msgObj.msg),expression:\"msgObj.msg\"}],staticClass:\"talk_word\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.msgObj.msg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.msgObj, \"msg\", $event.target.value)}}}),_c('input',{staticClass:\"talk_sub\",attrs:{\"type\":\"button\",\"value\":\"发送\"},on:{\"click\":_vm.sendMsg}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Client.vue?vue&type=template&id=1780f9a5&scoped=true&\"\nimport script from \"./Client.vue?vue&type=script&lang=js&\"\nexport * from \"./Client.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Client.vue?vue&type=style&index=0&id=1780f9a5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1780f9a5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=style&index=0&id=1780f9a5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=style&index=0&id=1780f9a5&scoped=true&lang=css&\"","<template>\r\n    <div class=\"talk_con\">\r\n        <div class=\"talk_show\" id=\"words\">\r\n            <div  :class=\"[(i.role=='me')?'btalk':'atalk']\" v-for=\"i in chatRecordList\"><span>{{i.userNameChn}}：{{i.msg}}</span></div>\r\n            <!-- <div class=\"btalk\"><span>B说：还没呢，你呢？</span></div> -->\r\n        </div>\r\n        <div class=\"talk_input\">\r\n            <!-- <select class=\"whotalk\" id=\"who\" v-model=\"sel1\">\r\n                <option value=\"0\">A说：</option>\r\n                <option value=\"1\">B说：</option>\r\n            </select> -->\r\n            <input type=\"text\" class=\"talk_word\" v-model=\"msgObj.msg\" >\r\n            <!-- 绑定单击监听,把value传到vue的list1中 -->\r\n            <input type=\"button\" value=\"发送\" class=\"talk_sub\"   @click=\"sendMsg\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Client\",\r\n        data() {\r\n            return {\r\n                chatRecordList: [\r\n                    // { person: 'A', say: '吃饭了吗？' },\r\n                    // { person: 'B', say: '还没呢，你呢？' },\r\n                ],\r\n                msgObj:{\r\n                        me:'visitor',\r\n                        you:\"admin\",\r\n                        msg:'',\r\n                        userNameChn:\"访客\",\r\n                    },\r\n                userName:'visitor',\r\n                userNamcChn:\"访客\",\r\n                w:''\r\n            }\r\n        },\r\n        methods: {\r\n            connectWebsocket() {\r\n\t\t\t\t\t//$(\"#content\").html('');\r\n\t\t\t\t\tif ('WebSocket' in window) {\r\n\t\t\t\t\t\tthis.ws = new WebSocket(\"ws://192.168.11.30:8086/socketServer/\"+this.userName);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ('MozWebSocket' in window) {\r\n\t\t\t\t\t\tthis.ws = new MozWebSocket(\"ws://192.168.11.30:8086/socketServer/\" +this.userName);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\talert(\"该浏览器不支持websocket\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar _this = this;\r\n\t\t\t\t\tthis.ws.onmessage = function (evt) {\r\n\t\t\t\t\t\tconsole.log(evt.data);\r\n\t\t\t\t\t\tvar data = eval('('+evt.data+')');\r\n\t\t\t\t\t\tvar me = data.me;\r\n                        var you = data.you;\r\n                        var userNameChn = data.userNameChn;\r\n\t\t\t\t\t\t// 如果是发送到指定的人才显示\r\n\t\t\t\t\t\tif(_this.userName === you){\r\n\t\t\t\t\t\t\tvar msg = data.msg;\r\n\t\t\t\t\t\t\t_this.chatRecordList.push({msg:msg,role:\"you\",userNameChn:userNameChn});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tthis.ws.onclose = function (evt) {\r\n                        console.log('断开连接');\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tthis.ws.onopen = function (evt) {\r\n\t\t\t\t\t\tconsole.log('连接成功');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\t\t\t\t// 发送\r\n\t\t\t\tsendMsg(){\r\n\t\t\t\t\tconsole.log();\r\n                    this.ws.send(JSON.stringify(this.msgObj));\r\n\t\t\t\t\tthis.chatRecordList.push({msg:this.msgObj.msg,role:\"me\",userNameChn:\"访客\"});\r\n\t\t\t\t}\r\n        },\r\n        created() {\r\n            this.connectWebsocket();\r\n        },\r\n        destroyed() {\r\n            this.ws.onclose();\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .talk_con {\r\n        width: 600px;\r\n        height: 500px;\r\n        border: 1px solid #666;\r\n        margin: 50px auto 0;\r\n        background: #f9f9f9;\r\n    }\r\n\r\n    .talk_show {\r\n        width: 580px;\r\n        height: 420px;\r\n        border: 1px solid #666;\r\n        background: #fff;\r\n        margin: 10px auto 0;\r\n        overflow: auto;\r\n    }\r\n\r\n    .talk_input {\r\n        width: 580px;\r\n        margin: 10px auto 0;\r\n    }\r\n\r\n    .whotalk {\r\n        width: 80px;\r\n        height: 30px;\r\n        float: left;\r\n        outline: none;\r\n    }\r\n\r\n    .talk_word {\r\n        width: 420px;\r\n        height: 26px;\r\n        padding: 0px;\r\n        float: left;\r\n        margin-left: 10px;\r\n        outline: none;\r\n        text-indent: 10px;\r\n    }\r\n\r\n    .talk_sub {\r\n        width: 56px;\r\n        height: 30px;\r\n        float: left;\r\n        margin-left: 10px;\r\n    }\r\n\r\n    .atalk {\r\n        margin: 10px;\r\n    }\r\n\r\n    .atalk span {\r\n        display: inline-block;\r\n        background: #0181cc;\r\n        border-radius: 10px;\r\n        color: #fff;\r\n        padding: 5px 10px;\r\n    }\r\n\r\n    .btalk {\r\n        margin: 10px;\r\n        text-align: right;\r\n    }\r\n\r\n    .btalk span {\r\n        display: inline-block;\r\n        background: #ef8201;\r\n        border-radius: 10px;\r\n        color: #fff;\r\n        padding: 5px 10px;\r\n    }\r\n</style>"],"sourceRoot":""}