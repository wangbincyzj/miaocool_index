(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e0fa7ae"],{2631:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"talk_con"},[t("div",{staticClass:"talk_show",attrs:{id:"words"}},e._l(e.chatRecordList,(function(s){return t("div",{class:["me"==s.role?"btalk":"atalk"]},[t("span",[e._v(e._s(s.userNameChn)+"："+e._s(s.msg))])])})),0),t("div",{staticClass:"talk_input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.msgObj.msg,expression:"msgObj.msg"}],staticClass:"talk_word",attrs:{type:"text"},domProps:{value:e.msgObj.msg},on:{input:function(s){s.target.composing||e.$set(e.msgObj,"msg",s.target.value)}}}),t("input",{staticClass:"talk_sub",attrs:{type:"button",value:"发送"},on:{click:e.sendMsg}})])])},n=[],o=t("c73b"),i=o["a"],c=(t("ba40"),t("2877")),r=Object(c["a"])(i,a,n,!1,null,"440a0762",null);s["default"]=r.exports},ba40:function(e,s,t){"use strict";var a=t("e3cd"),n=t.n(a);n.a},c73b:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]={name:"Admin",data:function(){return{chatRecordList:[{person:"A",say:"吃饭了吗？",role:"me",userNameChn:"A",msg:"111"},{person:"B",say:"还没呢，你呢？",role:"you",userNameChn:"B",msg:"222"}],msgObj:{me:"admin",you:"visitor",msg:"",userNameChn:"客服"},userName:"admin",userNameChn:"客服",w:""}},methods:{connectWebsocket:function connectWebsocket(){"WebSocket"in window?this.ws=new WebSocket("ws://192.168.11.30:8086/socketServer/"+this.userName):"MozWebSocket"in window?this.ws=new MozWebSocket("ws://192.168.11.30:8086/socketServer/"+this.userName):alert("该浏览器不支持websocket");var _this=this;this.ws.onmessage=function(evt){console.log(evt.data);var data=eval("("+evt.data+")"),me=data.me,you=data.you,userNameChn=data.userNameChn;if(_this.userName===you){var msg=data.msg;_this.chatRecordList.push({msg:msg,role:"you",userNameChn:userNameChn})}},this.ws.onclose=function(e){console.log("断开连接")},this.ws.onopen=function(e){console.log("连接成功")}},sendMsg:function(){this.ws.send(JSON.stringify(this.msgObj)),this.chatRecordList.push({msg:this.msgObj.msg,role:"me",userNameChn:"客服"})}},created:function(){this.connectWebsocket()},destroyed:function(){this.ws.onclose()}}},e3cd:function(e,s,t){}}]);
//# sourceMappingURL=chunk-2e0fa7ae.f989ddb1.js.map